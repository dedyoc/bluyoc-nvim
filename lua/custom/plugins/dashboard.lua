return {
  'nvimdev/dashboard-nvim',
  event = 'VimEnter',
  config = function()
    local api = vim.api
    local keymap = vim.keymap
    local dashboard = require 'dashboard'

    local conf = {}
    conf.header = {
      [[                                                               ]],
      [[                                                               ]],
      [[    ,---,.   ,--,                                              ]],
      [[  ,'  .'  \,--.'|                                              ]],
      [[,---.' .' ||  | :            ,--,            ,---.             ]],
      [[|   |  |: |:  : '          ,'_ /|           '   ,'\            ]],
      [[:   :  :  /|  ' |     .--. |  | :     .--, /   /   |   ,---.   ]],
      [[:   |    ; '  | |   ,'_ /| :  . |   /_ ./|.   ; ,. :  /     \  ]],
      [[|   :     \|  | :   |  ' | |  . ., ' , ' :'   | |: : /    / '  ]],
      [[|   |   . |'  : |__ |  | ' |  | /___/ \: |'   | .; :.    ' /   ]],
      [["   :  '; ||  | '.'|:  | : ;  ; |.  \  ' ||   :    |'   ; :__  ]],
      [[|   |  | ; ;  :    ;'  :  `--'   \\  ;   : \   \  / '   | '.'| ]],
      [[|   :   /  |  ,   / :  ,      .-./ \  \  ;  `----'  |   :    : ]],
      [[|   | ,'    ---`-'   `--`----'      :  \  \          \   \  /  ]],
      [[`----'                               \  ' ;           `----'   ]],
      [[                                      `--`                     ]],
      -- "          ░▒▒▒▒▒▒░        ░░░▒▒▒░░ ░▒▒▒▒░▒▒▒▒▒▓▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒▒▒▒░░░░░░   ░░░▒▒▒▒▒▒▒▒░░▒▒▒▒▒▓▓▓▓▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒▒▒▒▒▒▒  ░░░▒░░░░░░▒▒▒▒▒░░▒▒▒▒▒▒       ░░     ░▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░▒▒▒▒░ ░░     ░░░      ▒▒▒▒▒░░▒▒▒░ ░░   ░▒░   ░▒▓▒ ░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒░░ ░░░░░░░░      ░  ▒▒▒▒▒▒░▒▒░ ▒▒▒░ ░░░░░░▒▓▓░ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░▒  ░░░ ░░  ░░░        ░ ░▒▒▒▒▒▒▒▓▒░   ░░  ░░▒▒░   ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "              ░▒░   ░▒░░  ░░░    ░    ░▒▒▒▒▒▒░▒▒ ░▒  ░░▒░ ░▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░ ░▒▒▒  ░▒▒▒░ ░░     ░░░        ░▒░  ░░     ░░   ▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░▒▒░░░░  ░░▒▒░ ░▒░░  ░░░▒░░░   ░░     ░       ░▒▒░░ ░░   ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░▒▒░░░░   ▒▒▒▒  ░░░       ░          ░               ░░░▒  ░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░░▒▒▒▒░▒▒▒▒▒▒▒   ░                                  ░░░▒▒▒░ ░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░▒░▒▒▒▒▒▒▒▒▒▒▒▒▒              ░▓▓░░           ░░░   ░ ░░░░░▒▒  ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░▒▒▒░░░ ░▒▒▒░░             ░██▒░░░      ░░░░░ ░░░   ░░░░░░▒▒▒░ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░ ░░░▒░░░▒▒░░ ░             ▓▒         ░░▒▓    ░░ ░░░░░ ░░▒▒▒▒  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░░░░░░░░▒░░                    ▓█▓░░ ░░░▓█░░░░  ░░░░░░  ░▒▒▒░ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░░░▒░░▒░░░       ░░░░░░       ░█▓░░░░░ ░█▓░░░░░░░▒░    ░ ░▒░ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ░░░░▒░░▒▒░       ░░░░░░░░░     ░░░░░░░░░█▓░░░░░░░▒▒░ ▒▓  ░▒▓░ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒░▒▒▒▒░░░░      ░░░░░░░░░░░   ░░░░░░░▒█▒ ░░▒▒▒░░▒░░░ ▒▒ ▒▒▓▓▓  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒▒▒▒▒▒░     ░██░░░░░░░░░░░       ▓█▒░░░░░░░░░░░▒▒ ░▒ ▒▒░░▓▒ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒░▒▒▒░     ░██░░▒▓░░░░         ░██░░░░░░░░░▒▒░░░▒  ▓ ▒▓▓▒▒  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒          ",
      -- "          ▒▒▒▒▒▒▒▒▒░    ░░▒░░▒██░░░        ░██     ░░░░░░▒▒▒░░░░ ▒ ░▓░░  ▒▓▓▓▓▓▒▒▒▒▒▒░░  ░          ",
      -- "          ▒▒▒▒▒▒▒░      ░░░░░░░░░░░░    ░██▓    ░░░░░▒▒░  ░  ▒▒▒ ▒░    ░▓▓▓▓▓▒▓▒▒▓▓▒░░░░▒▒          ",
      -- "          ▒▒░░░░        ░   ░░░░   ▒▒███▓       ░░    ░▒▒░ ░     ▓▓▓▓▓▓▓▓▓▓▒  ░░▒▓▒▒▒░░░░▒          ",
      -- "          ░░░                      ░░        ░░░░    ░  ░▒  ▓▓▓▓▓▓▓▓▓▓▓▓▓▒░   ░░░░░░▒░▒░░░          ",
      -- "          ▒▒▒░░  ░ ░                    ░   ░░░░░░░░░░░░   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▓▒▒▒▓▓░▒▒▒▒▒          ",
      -- "          ░▒▒░░  ░░░            ░░            ░░░  ░▒▒▓▓▒ ░▓▓▓▓▓▓▓▓▓▓▓▓▓▒▓▓▓▒▓▓▓▓▓▓▓▒▒▒▒▒▒          ",
      -- "          ▒▒▒▒░  ░░  ░░░       ░░       ░     ░░▒░░░░░░▒▒ ░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒       ░    ░░▒░     ░░  ░░░░░▒▒▒▓▒▒▒▒▒▒░  ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▓▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒▒▒░░   ░░░░░    ░▒▒░░░░░▒▒▒░░░           ░▓▓▓▓▓▓▓▓▒▓▓▓▓▓▒▓▒░░░░░▒▒▒▒▓▓▓▓▓▓▓          ",
      -- "          ▒▒▒▒▒▒░░░░░      ░▒▒  ▒▒░░░▒▒▒▒░  ░▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒░▒▓▓▓▒▒▒░░░░░░  ░░░  ░░░▒▓          ",
      -- "          ▒▒▒▒░░░ ░░░░▒▒▒▒▒▒▒▒▒   ░░░░    ▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒░░░░░▒▒▓▓▓▓▒░░░░   ░░░░   ░░▒▒▓          ",
      -- "          ░░      ░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░▒▒░░▒▓▓▓▓▓▓▓▓▓▓▓▓▓░▒░░▒▒░▒▒▒▓▒▒▒░░░░  ░░░░░░░░░▒▒▒▒░░          ",
      -- "                  ░▒▒▒▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▓▓▓▓▒▓▓▓▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▓▓▓▓░ ░░░ ░░░░░░░░░░░░░▒▓▒▒▒▒          ",
      -- "          ░░░░░░░░░░░▒▒▒▓▓▓░ ░░ ▒▓▒░░▒▒▒▒▓▒▒▒░▒░░▒▒▓▒▓▓▓▓▓▓▒▒▒░░░   ░░░      ░░░░▒▒░░░░░▒▒          ",
    }

    conf.center = {

      {
        icon = '󰈞  ', -- Or a Nerd Font icon
        desc = 'Find  File                             ',
        action = 'Telescope find_files find_command=rg,--hidden,--files',
        key = '<Leader> s f', -- Correct keybinding
      },
      {
        icon = '󰈢  ', -- Or a Nerd Font icon
        desc = 'Recent Files                           ',
        action = 'Telescope oldfiles',
        key = '<Leader> s .', -- Correct keybinding (using "." for oldfiles)
      },
      {
        icon = '󰈬  ', -- Or a Nerd Font icon
        desc = 'Project Grep                          ',
        action = 'Telescope live_grep',
        key = '<Leader> s g', -- Correct keybinding
      },
      {
        icon = '  ', -- Or a Nerd Font icon
        desc = 'Open Nvim Config                      ',
        action = 'edit ' .. vim.fn.stdpath 'config' .. '/init.lua',
        key = '<Leader> s n', -- Correct keybinding (n for nvim config) or <Leader> ev
      },
      {
        icon = '  ', -- Or a Nerd Font icon
        desc = 'New File                               ',
        action = 'enew',
        key = '<Leader> e', -- Using leader key for consistency
      },
      {
        icon = '󰗼  ', -- Or a Nerd Font icon
        desc = 'Quit Nvim                               ',
        action = 'qa',
        key = '<Leader> q q', -- Using leader key for consistency, :qa also works well
      },
    }

    dashboard.setup {
      theme = 'doom',
      shortcut_type = 'number',
      config = conf,
    }

    api.nvim_create_autocmd('FileType', {
      pattern = 'dashboard',
      group = api.nvim_create_augroup('dashboard_enter', { clear = true }),
      callback = function()
        keymap.set('n', 'q', ':qa<CR>', { buffer = true, silent = true })
        keymap.set('n', 'e', ':enew<CR>', { buffer = true, silent = true })
      end,
    })
  end,
}
